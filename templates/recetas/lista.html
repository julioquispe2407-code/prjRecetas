<!DOCTYPE html>
<html>
<head>
    <title>Lista de Recetas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }
        .dark-mode .card {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }
        .dark-mode .btn-primary {
            background-color: #38a3a5;
            border-color: #38a3a5;
        }
    </style>
</head>
<body class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Recetas disponibles</h1>
        <div class="d-flex gap-2">
            <a href="{% url 'nueva_receta' %}" class="btn btn-success">Agregar Receta</a>
            <button class="btn btn-dark" id="darkModeToggle">Modo Oscuro</button>
        </div>
    </div>
    
    <div class="row">
        {% for receta in recetas %}
            <div class="col-md-4 mb-3">
                <div class="card">
                    <img src="{{ receta.imagen.url }}" class="card-img-top" alt="Imagen de {{ receta.nombre }}" style="height: 200px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title">{{ receta.nombre }}</h5>
                        <p class="card-text"><strong>Chef:</strong> {{ receta.chef }}</p>
                        <p class="card-text"><strong>Categoría:</strong> {{ receta.categoria }}</p>
                        <a href="{% url 'detalle_receta' receta.id %}" class="btn btn-primary">Ver detalles</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No hay recetas disponibles.</p>
        {% endfor %}
    </div>
    <script>
        const body = document.body;
        const darkModeToggle = document.getElementById('darkModeToggle');

        // Función para cambiar entre modos
        function toggleDarkMode() {
            body.classList.toggle('dark-mode');
            const isDarkMode = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            darkModeToggle.textContent = isDarkMode ? 'Modo Claro' : 'Modo Oscuro';
        }

        // Cargar la preferencia del usuario al iniciar
        if (localStorage.getItem('darkMode') === 'true') {
            body.classList.add('dark-mode');
            darkModeToggle.textContent = 'Modo Claro';
        }

        darkModeToggle.addEventListener('click', toggleDarkMode);
    </script>
</body>
</html>